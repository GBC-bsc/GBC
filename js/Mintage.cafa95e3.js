"use strict";(self["webpackChunknewton_protocol"]=self["webpackChunknewton_protocol"]||[]).push([[622],{2648:function(e,t,a){a.d(t,{Y6:function(){return o}});a(560);var s=a(1);const{t:n}=s["default"].global;function l(e){let t=/^[-+]?(([0-9]+)([.]([0-9]+))?|([.]([0-9]+))?)$/.test(e);return t}function o(e,t=2){if(l(e)){let a=e+"";if(a.includes(".")){let e=a.split("."),s=e[0]+"."+e[1].substring(0,t);return Number(s)}return Number(e)}return e}},1166:function(e,t,a){a.d(t,{Z:function(){return b}});var s=a(6252),n=a(3577);const l=e=>((0,s.dD)("data-v-25f1e852"),e=e(),(0,s.Cn)(),e),o={class:"footBtm"},c=l((()=>(0,s._)("div",{class:"line"},null,-1))),i={class:"welcome"},r=l((()=>(0,s._)("div",{class:"line"},null,-1)));function u(e,t){return(0,s.wg)(),(0,s.iD)("div",o,[c,(0,s._)("div",i,(0,n.zw)(e.$t("欢迎来到GBC")),1),r])}var d=a(3744);const v={},m=(0,d.Z)(v,[["render",u],["__scopeId","data-v-25f1e852"]]);var b=m},1835:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(6252),n=a(2262),l=a(3577),o=a.p+"img/banner.26641910.png",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAByElEQVRYhc3XO2sUYRSH8V8WC7+GrR9oP4YmYryk8FaohaKkUEghaGPhBZsUXiCFaCUoIhI0IKiFEIuQIkZijMWcsLPD7Oy8M5NdHxjYOe95//sM7Mycnen3+4fxEUf8H3zB0R62cXLKMnnmsd2Lk8dYmaLMPit4BL1ccRa707AJdsMBw2LvsTRpmxxL4YBhMTiHjUnaBBs4ny8UxX4WGybEBaznC0UxuI3VSdgEq7hVLJaJ7eD4gesMmI3vHKJMDJ5h+SBtgmU8LVsYJQZzSq6kQ3ZwYtRildhnLHauM2ARn0YtVonBJYW7pSPWI3sk48Q2sdCZzoCFyB7JODG4g7ed6GS8i8xK6oj9lT0+9loK7XMsMiupIwYv8bCVTsaDyBpLXTGymW2rkU7GLwlzX4rYV1xP1hlwLTJqkSIGV/EtcQ98j721SRXbwpnEPXBa4s8gVQzu41VC/+vYk0QTsT3ZRDD2ltfiUdNEDN7gbo2+e9GbTFMxxr9WNnG2aXgbsR+4XLF+JXoa0UYMbsrGoyJruNEmuK3Yb5wqqc/HWmPaisETPM+dv4haK7oQIxuR/8Qx10XgoS5C8EH2t28mPremKzG42GGWfxKpW7OcVkYRAAAAAElFTkSuQmCC",i=a(3907),r=a(2438),u=a(2648),d=a(8552),v=a(1898),m=a(5583),b=a(1166);const g=e=>((0,s.dD)("data-v-5d673e1b"),e=e(),(0,s.Cn)(),e),w={class:"mintage"},C={class:"main"},f=g((()=>(0,s._)("img",{class:"banner",src:o,alt:""},null,-1))),h={class:"mintRow"},A={class:"mint"},B={class:"right"},p=g((()=>(0,s._)("img",{class:"xiaImg",src:c,alt:""},null,-1))),_={class:"one"},x={class:"mainBtm"},z={class:"remarksNotes"},k={class:"teamBox"},I={class:"teamSize"},S={class:"teamSize"},U={class:"title"},Y={class:"urlBox"},W={class:"inviteUrlBox"},H={class:"sharedAddress"},F={class:"sharedAddressLabel"},M={class:"sharedAddressBox"};var $={__name:"index",setup(e){const t=(0,i.oR)(),{toClipboard:a}=(0,v.Z)(),{t:o}=(0,d.QT)(),g=(0,s.Fl)((()=>t?.state?.user?.address?location.origin+location.pathname+"#/?invite="+localStorage.getItem("address"):"**********")),$=async e=>{try{await a(e),(0,r.CF)(o("复制成功"))}catch(t){(0,r.CF)(o("复制失败"))}},G=[{text:"0.1",value:"0.1",gbc:5e3},{text:"0.2",value:"0.2",gbc:1e4},{text:"0.3",value:"0.3",gbc:15e3},{text:"0.4",value:"0.4",gbc:2e4},{text:"0.5",value:"0.5",gbc:25e3}],R=(0,n.iH)(G[2].gbc),y=(0,n.iH)(!1),E=(0,n.iH)([G[2].text]),L=({selectedValues:e,selectedOptions:t})=>{E.value=e,R.value=t[0].gbc,y.value=!1},X=(0,n.iH)(!1),T=(0,n.iH)([]),V=(0,n.iH)(!1),N=()=>{const{state:{web3:{web3Instance:e,mainContractAddress:a,bnbBalance:s}}}=t;let n=E.value[0];if(s<Number(n))return(0,r.CF)(o("余额不足"));let l=(0,r.di)({message:o("铸造中..."),forbidClick:!0,duration:0});V.value=!0,e.eth.sendTransaction({from:localStorage.getItem("address"),to:a,value:e.utils.toWei(n,"ether")}).then((e=>{l.close(),(0,r.CF)(o("铸造成功")),V.value=!1,t.dispatch("web3/getBnbBalance")})).catch((e=>{l.close(),(0,r.CF)(o("交易失败,请再次进行")),V.value=!1}))},Z=(0,n.iH)(!1),D=()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;if(K.value<=0)return(0,r.CF)(o("可领取数量为0,不能领取"));let s=(0,r.di)({message:o("领取中..."),forbidClick:!0,duration:0});Z.value=!0,a.methods.divieBnb().send({from:localStorage.getItem("address")}).then((()=>{s.close(),(0,r.CF)(o("领取成功")),Z.value=!1,P(),t.dispatch("web3/getBnbBalance")})).catch((()=>{s.close(),(0,r.CF)(o("交易失败,请再次进行")),Z.value=!1}))},Q=(0,n.iH)(0),J=(0,n.iH)(0),K=(0,n.iH)(0),P=()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;a.methods.getrefMap1(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((t=>{Q.value=t[2],J.value=e.utils.fromWei(t[3],"ether"),K.value=e.utils.fromWei(t[5],"ether")})).catch((e=>{console.log("err----",e)}))},O=((0,n.iH)([]),()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;a.methods.getRefAddresses(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{T.value=e.map((e=>({text:`${e.substring(0,6)}*******${e.substring(e.length-5)}`,value:e})))})).catch((e=>{console.log("err----",e)}))}),j=(0,s.Fl)((()=>t.state.web3.web3Instance));return(0,s.YP)(j,((e,t)=>{e&&(P(),O())}),{immediate:!0}),(e,a)=>{const o=(0,s.up)("van-button"),i=(0,s.up)("van-picker"),r=(0,s.up)("van-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",w,[(0,s.Wm)((0,n.SU)(m.Z)),(0,s._)("div",C,[f,(0,s._)("div",h,[(0,s._)("div",A,(0,l.zw)(e.$t("铸 造")),1),(0,s._)("div",B,[(0,s._)("div",{class:"one",onClick:a[0]||(a[0]=e=>y.value=!0)},[(0,s._)("span",null,(0,l.zw)(E.value[0]),1),p]),(0,s._)("div",_,(0,l.zw)(R.value),1),(0,s.Wm)(o,{class:"confirm",loading:V.value,onClick:N},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("确认")),1)])),_:1},8,["loading"])])]),(0,s._)("div",x,[(0,s.Wm)(o,{class:"receiveBtn",loading:Z.value,onClick:D},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("可领取"))+"："+(0,l.zw)((0,n.SU)(u.Y6)(K.value,6))+" BNB",1)])),_:1},8,["loading"]),(0,s.Wm)(o,{class:"receiveBtn",onClick:a[1]||(a[1]=e=>$((0,n.SU)(t)?.state?.web3?.mainContractAddress))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("GBC合约地址"))+"："+(0,l.zw)((0,n.SU)(t)?.state?.web3?.mainContractAddress.slice(0,6))+" **** "+(0,l.zw)((0,n.SU)(t)?.state?.web3?.mainContractAddress.slice(-6)),1)])),_:1}),(0,s._)("div",z,(0,l.zw)(e.$t("推荐好友铸造获得 一代5% 二代3% 的BNB奖励")),1),(0,s._)("div",k,[(0,s._)("div",I,(0,l.zw)(e.$t("团队人数"))+": "+(0,l.zw)(Q.value),1),(0,s._)("div",S,(0,l.zw)(e.$t("团队BNB"))+": "+(0,l.zw)((0,n.SU)(u.Y6)(J.value,6)),1)]),(0,s._)("div",U,(0,l.zw)(e.$t("我的链接")),1),(0,s._)("div",Y,[(0,s._)("div",W,(0,l.zw)(g.value),1),(0,s._)("div",{class:"copyBtn",onClick:a[2]||(a[2]=e=>$(g.value))},(0,l.zw)(e.$t("复制链接")),1)]),(0,s._)("div",H,[(0,s._)("div",F,(0,l.zw)(e.$t("我分享的地址")),1),(0,s._)("div",M,[(0,s._)("img",{onClick:a[3]||(a[3]=e=>X.value=!0),class:"triangle",src:c,alt:""})])])]),(0,s.Wm)((0,n.SU)(b.Z))])]),(0,s.Wm)(r,{show:y.value,"onUpdate:show":a[5]||(a[5]=e=>y.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{"model-value":E.value,columns:(0,n.SU)(G),onCancel:a[4]||(a[4]=e=>y.value=!1),onConfirm:L,"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["model-value","columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"]),(0,s.Wm)(r,{show:X.value,"onUpdate:show":a[8]||(a[8]=e=>X.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{columns:T.value,onCancel:a[6]||(a[6]=e=>X.value=!1),onConfirm:a[7]||(a[7]=e=>X.value=!1),"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"])],64)}}},G=a(3744);const R=(0,G.Z)($,[["__scopeId","data-v-5d673e1b"]]);var y=R}}]);