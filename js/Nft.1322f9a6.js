"use strict";(self["webpackChunknewton_protocol"]=self["webpackChunknewton_protocol"]||[]).push([[94],{9353:function(t,n,e){e.r(n),e.d(n,{default:function(){return U}});var a=e(6252),l=e(2262),s=e(3577),c=e(3907),o=e(2438),d=e(2648),i=e(8552),r=e(5583),u=(e(1166),e(794));const m=t=>((0,a.dD)("data-v-512c61d2"),t=t(),(0,a.Cn)(),t),f={class:"nft"},g={class:"cardBox"},p={class:"card oneCard"},v={class:"label"},b={class:"num"},_=m((()=>(0,a._)("span",{style:{"font-size":"12px"}},"BNB",-1))),w={class:"card twoCard"},C={class:"label"},S={class:"num"},y=m((()=>(0,a._)("span",{style:{"font-size":"12px"}},"BNB",-1))),x={class:"title"},k=m((()=>(0,a._)("div",{class:"text1"},"NFT",-1))),B={class:"text2"},h={class:"main"},z=["src"],F={class:"nftCardBox"},N={class:"nftCardTop"},j={class:"nameBox"},I={class:"name"},A=["src"],D={class:"btnBox"};var $={__name:"index",setup(t){const n=(0,c.oR)(),{t:m}=(0,i.QT)(),$=(0,a.Fl)((()=>[{name:m("初鸣"),grade:"Ⅰ",mintNum:"0.1",nft:e(671),nftSmall:e(4872),nftCardStyle:{background:"#AA9686"},denjiStyle:"color: #AA9686;",nftCardBtmStyle:"background: #7F7064;"},{name:m("炽痕"),grade:"Ⅱ",mintNum:"0.2",nft:e(1087),nftSmall:e(9952),nftCardStyle:{background:"#A97C7C"},denjiStyle:"color: #A97C7C;",nftCardBtmStyle:"background: #7F5D5D;"},{name:m("光冕"),grade:"Ⅲ",mintNum:"0.3",nft:e(9971),nftSmall:e(6384),nftCardStyle:{background:"#c7c3c3"},denjiStyle:"color: #c7c3c3;",nftCardBtmStyle:"background: #a7a5a5;"},{name:m("神谕"),grade:"Ⅴ",mintNum:"0.4",nft:e(4985),nftSmall:e(3811),nftCardStyle:{background:"#d5ce0e"},denjiStyle:"color: #d5ce0e;",nftCardBtmStyle:"background: #aba504;"},{name:m("永寂"),grade:"Ⅳ",mintNum:"0.5",nft:e(4462),nftSmall:e(4963),nftCardStyle:{background:"#1F79E5"},denjiStyle:"color: #1F79E5;",nftCardBtmStyle:"background: #175BAC;"}])),H=(0,l.iH)(!1),T=t=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=n;if(t.mintNum!=U.value)return(0,o.CF)(m("请选择铸造数量对应的等级领取"));let l=(0,o.di)({message:m("领取中..."),forbidClick:!0,duration:0});H.value=!0,a.methods.divieNft().send({from:localStorage.getItem("address")}).then((()=>{l.close(),(0,o.CF)(m("领取成功")),H.value=!1,Y(),n.dispatch("web3/getBnbBalance")})).catch((()=>{l.close(),(0,o.CF)(m("交易失败,请再次进行")),H.value=!1}))},U=(0,l.iH)(0),W=(0,l.iH)(0),Y=()=>{const{state:{web3:{web3Instance:t,mainContract:e}}}=n;e.methods.getrefMap1(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((n=>{let e=t.utils.fromWei(n[0],"ether");W.value=new u.Z(e).multipliedBy(3).toString(),U.value=e,console.log("num-----",e)})).catch((t=>{console.log("err----",t)}))},Z=(0,a.Fl)((()=>n.state.web3.web3Instance));return(0,a.YP)(Z,((t,n)=>{t&&Y()}),{immediate:!0}),(t,n)=>{const e=(0,a.up)("van-button"),c=(0,a.up)("van-swipe-item"),o=(0,a.up)("van-swipe");return(0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)((0,l.SU)(r.Z)),(0,a._)("div",g,[(0,a._)("div",p,[(0,a._)("div",v,(0,s.zw)(t.$t("我的NFT算力")),1),(0,a._)("div",b,[(0,a._)("span",null,(0,s.zw)((0,l.SU)(d.Y6)(W.value,4)),1),_])]),(0,a._)("div",w,[(0,a._)("div",C,(0,s.zw)(t.$t("可领取额度")),1),(0,a._)("div",S,[(0,a._)("span",null,(0,s.zw)((0,l.SU)(d.Y6)(W.value,4)),1),y])])]),(0,a._)("div",x,[k,(0,a._)("div",B,(0,s.zw)(t.$t("兑换")),1)]),(0,a.Wm)(o,{class:"mySwipe",autoplay:3e3,"indicator-color":"white"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.value,((n,l)=>((0,a.wg)(),(0,a.j4)(c,{key:l},{default:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a._)("img",{class:"nftImg",src:n.nft,alt:""},null,8,z),(0,a._)("div",F,[(0,a._)("div",{class:"nftCard",style:(0,s.j5)(n.nftCardStyle)},[(0,a._)("div",N,[(0,a._)("div",j,[(0,a._)("div",I,(0,s.zw)(n.name),1),(0,a._)("div",{style:(0,s.j5)(n.denjiStyle),class:"denji"},"▶ "+(0,s.zw)(t.$t("等级"))+" / "+(0,s.zw)(n.grade),5)]),(0,a._)("img",{class:"nftSmall",src:n.nftSmall,alt:""},null,8,A)])],4)]),(0,a._)("div",D,[(0,a.Wm)(e,{class:"btn",loading:H.value,onClick:t=>T(n)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.$t("领取")),1)])),_:2},1032,["loading","onClick"])])])])),_:2},1024)))),128))])),_:1})])}}},H=e(3744);const T=(0,H.Z)($,[["__scopeId","data-v-512c61d2"]]);var U=T},3811:function(t,n,e){t.exports=e.p+"img/biao.026c5144.png"},9952:function(t,n,e){t.exports=e.p+"img/hua.2327bb2f.png"},671:function(t,n,e){t.exports=e.p+"img/nft1.9eb89efe.png"},1087:function(t,n,e){t.exports=e.p+"img/nft2.d502f64e.png"},9971:function(t,n,e){t.exports=e.p+"img/nft3.46ca3184.png"},4985:function(t,n,e){t.exports=e.p+"img/nft4.f9027c27.png"},4462:function(t,n,e){t.exports=e.p+"img/nft5.de09ea43.png"},4872:function(t,n,e){t.exports=e.p+"img/niao.d7470b83.png"},4963:function(t,n,e){t.exports=e.p+"img/xue.fb050dab.png"},6384:function(t,n,e){t.exports=e.p+"img/yuan.71bedbbe.png"}}]);