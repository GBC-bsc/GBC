"use strict";(self["webpackChunknewton_protocol"]=self["webpackChunknewton_protocol"]||[]).push([[986],{3285:function(e,a,t){t.r(a),t.d(a,{default:function(){return Me}});var l=t(6252),s=t(2262),o=t(3577),n=t(9963),i=t.p+"img/huo.f3797caa.png",c=t(360),d=t.p+"img/xiangzi.004c0fd8.png",r=t(3907),u=t(2201),v=t(2438),m=t(794),f=t(5583),w=t(1166),B=t(2648),g=t(1898),_=t(8552);const p=e=>((0,l.dD)("data-v-fb72f644"),e=e(),(0,l.Cn)(),e),x={class:"burn"},b={class:"main"},h={class:"topBox"},C={class:"topBoxRow"},z={class:"topBoxLabel",style:{"text-align":"start"}},S={class:"topBoxNum",style:{"text-align":"end"}},y=p((()=>(0,l._)("span",{class:"fuhao"},"BNB",-1))),$={class:"topBoxRow",style:{"margin-top":"22px"}},I={class:"topBoxLabel",style:{"text-align":"start"}},H={class:"topBoxNum",style:{"text-align":"end"}},N=p((()=>(0,l._)("span",{class:"fuhao"},"GBC",-1))),U={class:"topBoxRow",style:{"margin-top":"22px"}},k={class:"topBoxLabel",style:{"text-align":"start"}},L={class:"topBoxNum",style:{"text-align":"end"}},R=p((()=>(0,l._)("span",{class:"fuhao"},"GBC",-1))),W={class:"centerBox"},Z={class:"centerBoxCard"},Y={class:"centerBoxCardTop"},F=p((()=>(0,l._)("div",{class:"centerBoxCardTopLeft"},[(0,l._)("img",{class:"huoImg",src:i,alt:""})],-1))),G={class:"centerBoxCardTopRight"},T={class:"centerBoxCardBtm"},A={class:"centerBoxCardBtmRow",style:{"margin-bottom":"16.5px"}},D={class:"centerBoxCardBtmRow",style:{"margin-bottom":"16.5px"}},j={class:"centerBoxCardBtmRow"},M={class:"btnBox"},V={class:"mainBox"},P={class:"mainBoxTop"},Q=p((()=>(0,l._)("img",{class:"zanImg",src:c,alt:""},null,-1))),q={class:"titleBox"},E={class:"title"},J=p((()=>(0,l._)("div",{class:"shortTerm"},null,-1))),K=p((()=>(0,l._)("div",{class:"longTerm"},null,-1))),O={class:"dataBox"},X={class:"dataBoxRow"},ee={class:"dataBoxLabel"},ae={class:"dataBoxLabel"},te={class:"dataBoxRow"},le={class:"dataBoxNum"},se={class:"dataBoxNum"},oe={class:"dataBoxRow",style:{"margin-top":"22.5px"}},ne={class:"dataBoxLabel"},ie={class:"dataBoxLabel"},ce={class:"dataBoxRow"},de={class:"dataBoxNum"},re={class:"dataBoxNum"},ue={class:"mainBoxBtm"},ve={class:"mainBoxBtmLabel"},me={class:"mainBoxBtmNum"},fe={class:"mainBoxBtmRow",style:{"margin-top":"22.5px"}},we={class:"mainBoxBtmLabel"},Be={class:"mainBoxBtmLabel"},ge={class:"mainBoxBtmRow"},_e={class:"mainBoxBtmNum"},pe={class:"mainBoxBtmNum"},xe={class:"referenceBox"},be={class:"referenceBoxLeft"},he={class:"referenceBoxLabel"},Ce={key:0,class:"referenceBoxAddress"},ze={key:1,class:"referenceBoxAddress"},Se=p((()=>(0,l._)("img",{class:"referenceBoxRight",src:d,alt:""},null,-1))),ye={class:"inviteBox"},$e={class:"inviteLabel"},Ie={class:"urlBox"},He={class:"inviteUrlBox"},Ne={class:"btmCard"},Ue={class:"btmCardItem"},ke={class:"btmCardLabel"},Le={class:"btmCardNumber"},Re=p((()=>(0,l._)("div",{class:"vertical"},null,-1))),We={class:"btmCardItem"},Ze={class:"btmCardLabel",style:{"text-align":"end"}},Ye={class:"btmCardNumber",style:{"text-align":"end"}},Fe={class:"footBtmBox"},Ge=.1,Te=1;var Ae={__name:"index",setup(e){const a=(0,r.oR)(),{t:t}=((0,u.yj)(),(0,u.tv)(),(0,_.QT)()),{toClipboard:i}=(0,g.Z)(),c=(0,l.Fl)((()=>a?.state?.user?.address?location.origin+location.pathname+"#/?invite="+localStorage.getItem("address"):"**********")),d=async e=>{try{await i(e),(0,v.CF)(t("复制成功"))}catch(a){(0,v.CF)(t("复制失败"))}},p=(0,s.iH)(!1),Ae=(0,s.iH)([]),De=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getChildAddresses(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{Ae.value=e.map((e=>({text:`${e.substring(0,6)}*******${e.substring(e.length-5)}`,value:e})))})).catch((e=>{console.log("err----",e)}))},je=(0,s.iH)(!1),Me=()=>{const{state:{web3:{web3Instance:e,mainContract:t,mainContractAddress:l}}}=a;t.methods.allowance(localStorage.getItem("address"),l).call({from:localStorage.getItem("address")},((e,a)=>{e?console.log(e):je.value=0!=a}))},Ve=(0,s.iH)(!1),Pe=()=>{const{state:{web3:{mainContract:e,mainContractAddress:l}}}=a;let s=(0,v.di)({message:t("授权中..."),forbidClick:!0,duration:0});Ve.value=!0,e.methods.approve(l,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:localStorage.getItem("address")}).then((()=>{s.close(),(0,v.CF)(t("授权成功")),je.value=!0,Ve.value=!1})).catch((()=>{s.close(),(0,v.CF)(t("交易失败,请再次进行")),je.value=!1,Ve.value=!1}))},Qe=(0,s.iH)(""),qe=(0,s.iH)(!1),Ee=()=>{const{state:{web3:{web3Instance:e,mainContract:l,gbcBalance:s}}}=a;if(!Qe.value)return(0,v.CF)(t("请输入燃烧数量"));if(Number(Qe.value)>Number(s))return(0,v.CF)(t("GBC余额不足"));let o=(0,v.di)({message:t("燃烧中..."),forbidClick:!0,duration:0});qe.value=!0,l.methods.burn(e.utils.toWei(Qe.value,"ether")).send({from:localStorage.getItem("address")}).then((()=>{o.close(),(0,v.CF)(t("燃烧成功")),a.dispatch("web3/getGbcBalance"),qe.value=!1})).catch((()=>{o.close(),(0,v.CF)(t("交易失败,请再次进行")),qe.value=!1}))},Je=(0,s.iH)(""),Ke=(0,s.iH)(0),Oe=(0,s.iH)(0),Xe=(0,s.iH)(0),ea=(0,s.iH)(0),aa=(0,s.iH)(0),ta=(0,s.iH)(0),la=(0,s.iH)(0),sa=(0,s.iH)(0),oa=(0,s.iH)(0),na=(0,s.iH)(""),ia=(0,s.iH)(""),ca=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getrefMap2(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((a=>{Je.value=a[0],Ke.value=a[6],Oe.value=e.utils.fromWei(a[5],"ether"),Xe.value=e.utils.fromWei(a[4],"ether"),ea.value=e.utils.fromWei(a[3],"ether"),aa.value=new m.Z(ea.value).plus(new m.Z(Xe.value)).toString(),ta.value=e.utils.fromWei(a[2],"ether"),la.value=e.utils.fromWei(a[1],"ether"),sa.value=new m.Z(la.value).multipliedBy(1.5).toString(),oa.value=new m.Z(ta.value).multipliedBy(1.5).toString(),na.value=new m.Z(Ba.value).multipliedBy(Ge).toString(),ia.value=new m.Z(Ba.value).multipliedBy(Te).toString()})).catch((e=>{console.log("err----",e)}))},da=(0,s.iH)(0),ra=(0,s.iH)(0),ua=(0,s.iH)(0),va=(0,s.iH)(0),ma=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getStatData().call({from:localStorage.getItem("address")}).then((a=>{ua.value=e.utils.fromWei(a[1],"ether"),va.value=e.utils.fromWei(a[2],"ether"),ra.value=new m.Z(ua.value).plus(new m.Z(va.value)).toString(),da.value=new m.Z(ra.value).dividedBy(new m.Z(Ba.value))})).catch((e=>{console.log("err----",e)}))},fa=(0,s.iH)("0"),wa=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getrefMap(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{fa.value=e[3]})).catch((e=>{console.log("err----",e)}))},Ba=(0,s.iH)(0),ga=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getReserves().call({from:localStorage.getItem("address")}).then((a=>{let t=e.utils.fromWei(a[0],"ether"),l=e.utils.fromWei(a[1],"ether");Ba.value=l/t,console.log("price-------",Ba.value),ca(),ma(),pa()})).catch((e=>{console.log("err----",e)}))},_a=(0,s.iH)(""),pa=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.dividAmountMap(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((a=>{let t=e.utils.fromWei(a,"ether");_a.value=new m.Z(t).dividedBy(new m.Z(Ba.value))})).catch((e=>{console.log("err----",e)}))},xa=(0,l.Fl)((()=>a.state.web3.web3Instance));return(0,l.YP)(xa,((e,a)=>{e&&(ga(),wa(),De(),Me())}),{immediate:!0}),(e,t)=>{const i=(0,l.up)("van-field"),r=(0,l.up)("van-button"),u=(0,l.up)("van-picker"),v=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.iD)("div",x,[(0,l.Wm)((0,s.SU)(f.Z)),(0,l._)("div",b,[(0,l._)("div",h,[(0,l._)("div",C,[(0,l._)("div",z,(0,o.zw)(e.$t("分红总价值")),1),(0,l._)("div",S,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(da.value,2)),1),y])]),(0,l._)("div",$,[(0,l._)("div",I,(0,o.zw)(e.$t("可分红代币")),1),(0,l._)("div",H,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(ra.value,2)),1),N])]),(0,l._)("div",U,[(0,l._)("div",k,(0,o.zw)(e.$t("节点可分红")),1),(0,l._)("div",L,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(va.value,2)),1),R])])]),(0,l._)("div",W,[(0,l._)("div",Z,[(0,l._)("div",Y,[F,(0,l._)("div",G,[(0,l.Wm)(i,{class:"input",modelValue:Qe.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Qe.value=e),placeholder:e.$t("请输入燃烧数量"),"input-align":"center","label-width":"0",border:!1},null,8,["modelValue","placeholder"])])]),(0,l._)("div",T,[(0,l._)("div",A,[(0,l._)("span",null,(0,o.zw)(e.$t("最小燃烧数量")),1),(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(na.value,2))+" GBC/0.1BNB",1)]),(0,l._)("div",D,[(0,l._)("span",null,(0,o.zw)(e.$t("最大燃烧数量")),1),(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(ia.value,2))+" GBC/1BNB",1)]),(0,l._)("div",j,[(0,l._)("span",null,(0,o.zw)(e.$t("余额"))+":",1),(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)((0,s.SU)(a)?.state?.web3?.gbcBalance,6))+" GBC",1)])])]),(0,l._)("div",M,[je.value?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"btn",loading:qe.value,onClick:Ee},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("立即燃烧")),1)])),_:1},8,["loading"])):((0,l.wg)(),(0,l.j4)(r,{key:1,class:"btn",loading:Ve.value,onClick:Pe},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("开启燃烧")),1)])),_:1},8,["loading"]))])]),(0,l._)("div",V,[(0,l._)("div",P,[Q,(0,l._)("div",q,[(0,l._)("div",E,[(0,l._)("span",null,(0,o.zw)(e.$t("身份"))+"：",1),(0,l.wy)((0,l._)("span",null,(0,o.zw)(e.$t("普通用户")),513),[[n.F8,"0"==fa.value]]),(0,l.wy)((0,l._)("span",null,(0,o.zw)(e.$t("节点用户")),513),[[n.F8,"1"==fa.value]])]),J,K]),(0,l._)("div",O,[(0,l._)("div",X,[(0,l._)("div",ee,(0,o.zw)(e.$t("累计燃烧收益")),1),(0,l._)("div",ae,(0,o.zw)(e.$t("已分红数量")),1)]),(0,l._)("div",te,[(0,l._)("div",le,(0,o.zw)((0,s.SU)(B.Y6)(sa.value,6))+" BNB",1),(0,l._)("div",se,(0,o.zw)((0,s.SU)(B.Y6)(_a.value,6))+" BNB",1)]),(0,l._)("div",oe,[(0,l._)("div",ne,(0,o.zw)(e.$t("燃烧价值")),1),(0,l._)("div",ie,(0,o.zw)(e.$t("燃烧价值")),1)]),(0,l._)("div",ce,[(0,l._)("div",de,(0,o.zw)((0,s.SU)(B.Y6)(la.value,6))+" BNB",1),(0,l._)("div",re,(0,o.zw)((0,s.SU)(B.Y6)(ta.value,6))+" GBC",1)])])]),(0,l._)("div",ue,[(0,l._)("div",ve,(0,o.zw)(e.$t("累计已获得推广奖励")),1),(0,l._)("div",me,(0,o.zw)((0,s.SU)(B.Y6)(aa.value,6))+" GBC",1),(0,l._)("div",fe,[(0,l._)("div",we,(0,o.zw)(e.$t("直推奖励")),1),(0,l._)("div",Be,"Noder "+(0,o.zw)(e.$t("奖励")),1)]),(0,l._)("div",ge,[(0,l._)("div",_e,(0,o.zw)((0,s.SU)(B.Y6)(ea.value,6))+" GBC",1),(0,l._)("div",pe,(0,o.zw)((0,s.SU)(B.Y6)(Xe.value,6))+" GBC",1)])])]),(0,l._)("div",xe,[(0,l._)("div",be,[(0,l._)("div",he,(0,o.zw)(e.$t("我的推荐人")),1),"0x0000000000000000000000000000000000000000"==Je.value?((0,l.wg)(),(0,l.iD)("div",Ce,(0,o.zw)(e.$t("暂无推荐人")),1)):((0,l.wg)(),(0,l.iD)("div",ze,(0,o.zw)(Je.value.slice(0,6))+" **** "+(0,o.zw)(Je.value.slice(-6)),1))]),Se]),(0,l._)("div",ye,[(0,l._)("div",$e,(0,o.zw)(e.$t("我的邀请链接")),1),(0,l._)("div",Ie,[(0,l._)("div",He,(0,o.zw)(c.value),1),(0,l._)("div",{class:"copyBtn",onClick:t[1]||(t[1]=e=>d(c.value))},(0,o.zw)(e.$t("复制链接")),1)])]),(0,l._)("div",Ne,[(0,l._)("div",Ue,[(0,l._)("div",ke,(0,o.zw)(e.$t("直推燃烧地址数")),1),(0,l._)("div",Le,[(0,l._)("span",null,(0,o.zw)(Ke.value),1),(0,l._)("span",{class:"xianshi",onClick:t[2]||(t[2]=e=>p.value=!0)},(0,o.zw)(e.$t("显示")),1)])]),Re,(0,l._)("div",We,[(0,l._)("div",Ze,(0,o.zw)(e.$t("团队燃烧金额")),1),(0,l._)("div",Ye,(0,o.zw)((0,s.SU)(B.Y6)(Oe.value,6))+" BNB",1)])]),(0,l._)("div",Fe,[(0,l.Wm)((0,s.SU)(w.Z))])]),(0,l.Wm)(v,{show:p.value,"onUpdate:show":t[5]||(t[5]=e=>p.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{columns:Ae.value,onCancel:t[3]||(t[3]=e=>p.value=!1),onConfirm:t[4]||(t[4]=e=>p.value=!1),"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"])])}}},De=t(3744);const je=(0,De.Z)(Ae,[["__scopeId","data-v-fb72f644"]]);var Me=je},360:function(e,a,t){e.exports=t.p+"img/zan.ffc2fdc1.png"}}]);