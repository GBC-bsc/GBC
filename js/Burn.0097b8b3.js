"use strict";(self["webpackChunknewton_protocol"]=self["webpackChunknewton_protocol"]||[]).push([[986],{983:function(e,a,t){t.r(a),t.d(a,{default:function(){return Qe}});var l=t(6252),s=t(2262),o=t(3577),n=t(9963),i=t.p+"img/huo.f3797caa.png",c=t(360),d=t.p+"img/xiangzi.004c0fd8.png",r=t(3907),u=t(2201),v=t(2438),m=t(794),f=t(5583),w=t(1166),B=t(2648),g=t(1898),_=t(8552);const p=e=>((0,l.dD)("data-v-3e7cdd83"),e=e(),(0,l.Cn)(),e),x={class:"burn"},b={class:"main"},h={class:"topBox"},C={class:"topBoxRow"},z={class:"topBoxLabel",style:{"text-align":"start"}},S={class:"topBoxNum",style:{"text-align":"end"}},y=p((()=>(0,l._)("span",{class:"fuhao"},"BNB",-1))),$={class:"topBoxRow",style:{"margin-top":"22px"}},I={class:"topBoxLabel",style:{"text-align":"start"}},H={class:"topBoxNum",style:{"text-align":"end"}},N=p((()=>(0,l._)("span",{class:"fuhao"},"GBC",-1))),U={class:"topBoxRow",style:{"margin-top":"22px"}},k={class:"topBoxLabel",style:{"text-align":"start"}},L={class:"topBoxNum",style:{"text-align":"end"}},R=p((()=>(0,l._)("span",{class:"fuhao"},"GBC",-1))),W={class:"centerBox"},Z={class:"centerBoxCard"},Y={class:"centerBoxCardTop"},F=p((()=>(0,l._)("div",{class:"centerBoxCardTopLeft"},[(0,l._)("img",{class:"huoImg",src:i,alt:""})],-1))),G={class:"centerBoxCardTopRight"},T={class:"centerBoxCardBtm"},A={class:"centerBoxCardBtmRow",style:{"margin-bottom":"16.5px"}},D={style:{"text-align":"end"}},j={class:"centerBoxCardBtmRow",style:{"margin-bottom":"16.5px"}},M={style:{"text-align":"end"}},V={class:"centerBoxCardBtmRow"},P={style:{"text-align":"end"}},Q={class:"btnBox"},q={class:"mainBox"},E={class:"mainBoxTop"},J=p((()=>(0,l._)("img",{class:"zanImg",src:c,alt:""},null,-1))),K={class:"titleBox"},O={class:"title"},X=p((()=>(0,l._)("div",{class:"shortTerm"},null,-1))),ee=p((()=>(0,l._)("div",{class:"longTerm"},null,-1))),ae={class:"dataBox"},te={class:"dataBoxRow"},le={class:"dataBoxLabel"},se={class:"dataBoxLabel"},oe={class:"dataBoxRow"},ne={class:"dataBoxNum"},ie={class:"dataBoxNum"},ce={class:"dataBoxRow",style:{"margin-top":"22.5px"}},de={class:"dataBoxLabel"},re={class:"dataBoxLabel"},ue={class:"dataBoxRow"},ve={class:"dataBoxNum"},me={class:"dataBoxNum"},fe={class:"mainBoxBtm"},we={class:"mainBoxBtmLabel"},Be={class:"mainBoxBtmNum"},ge={class:"mainBoxBtmRow",style:{"margin-top":"22.5px"}},_e={class:"mainBoxBtmLabel"},pe={class:"mainBoxBtmLabel"},xe={class:"mainBoxBtmRow"},be={class:"mainBoxBtmNum"},he={class:"mainBoxBtmNum"},Ce={class:"referenceBox"},ze={class:"referenceBoxLeft"},Se={class:"referenceBoxLabel"},ye={key:0,class:"referenceBoxAddress"},$e={key:1,class:"referenceBoxAddress"},Ie=p((()=>(0,l._)("img",{class:"referenceBoxRight",src:d,alt:""},null,-1))),He={class:"inviteBox"},Ne={class:"inviteLabel"},Ue={class:"urlBox"},ke={class:"inviteUrlBox"},Le={class:"btmCard"},Re={class:"btmCardItem"},We={class:"btmCardLabel"},Ze={class:"btmCardNumber"},Ye=p((()=>(0,l._)("div",{class:"vertical"},null,-1))),Fe={class:"btmCardItem"},Ge={class:"btmCardLabel",style:{"text-align":"end"}},Te={class:"btmCardNumber",style:{"text-align":"end"}},Ae={class:"footBtmBox"},De=.1,je=1;var Me={__name:"index",setup(e){const a=(0,r.oR)(),{t:t}=((0,u.yj)(),(0,u.tv)(),(0,_.QT)()),{toClipboard:i}=(0,g.Z)(),c=(0,l.Fl)((()=>a?.state?.user?.address?location.origin+location.pathname+"#/?invite="+localStorage.getItem("address"):"**********")),d=async e=>{try{await i(e),(0,v.CF)(t("复制成功"))}catch(a){(0,v.CF)(t("复制失败"))}},p=(0,s.iH)(!1),Me=(0,s.iH)([]),Ve=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getChildAddresses(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{Me.value=e.map((e=>({text:`${e.substring(0,6)}*******${e.substring(e.length-5)}`,value:e})))})).catch((e=>{console.log("err----",e)}))},Pe=(0,s.iH)(!1),Qe=()=>{const{state:{web3:{web3Instance:e,mainContract:t,mainContractAddress:l}}}=a;t.methods.allowance(localStorage.getItem("address"),l).call({from:localStorage.getItem("address")},((e,a)=>{e?console.log(e):Pe.value=0!=a}))},qe=(0,s.iH)(!1),Ee=()=>{const{state:{web3:{mainContract:e,mainContractAddress:l}}}=a;let s=(0,v.di)({message:t("授权中..."),forbidClick:!0,duration:0});qe.value=!0,e.methods.approve(l,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:localStorage.getItem("address")}).then((()=>{s.close(),(0,v.CF)(t("授权成功")),Pe.value=!0,qe.value=!1})).catch((()=>{s.close(),(0,v.CF)(t("交易失败,请再次进行")),Pe.value=!1,qe.value=!1}))},Je=(0,s.iH)(""),Ke=(0,s.iH)(!1),Oe=()=>{const{state:{web3:{web3Instance:e,mainContract:l,gbcBalance:s}}}=a;if(!Je.value)return(0,v.CF)(t("请输入燃烧数量"));if(Number(Je.value)>Number(s))return(0,v.CF)(t("GBC余额不足"));let o=(0,v.di)({message:t("燃烧中..."),forbidClick:!0,duration:0});Ke.value=!0,l.methods.burn(e.utils.toWei(Je.value,"ether")).send({from:localStorage.getItem("address")}).then((()=>{o.close(),(0,v.CF)(t("燃烧成功")),a.dispatch("web3/getGbcBalance"),Ke.value=!1})).catch((()=>{o.close(),(0,v.CF)(t("交易失败,请再次进行")),Ke.value=!1}))},Xe=(0,s.iH)(""),ea=(0,s.iH)(0),aa=(0,s.iH)(0),ta=(0,s.iH)(0),la=(0,s.iH)(0),sa=(0,s.iH)(0),oa=(0,s.iH)(0),na=(0,s.iH)(0),ia=(0,s.iH)(0),ca=(0,s.iH)(0),da=(0,s.iH)(""),ra=(0,s.iH)(""),ua=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getrefMap2(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((a=>{Xe.value=a[0],ea.value=a[6],aa.value=e.utils.fromWei(a[5],"ether"),ta.value=e.utils.fromWei(a[4],"ether"),la.value=e.utils.fromWei(a[3],"ether"),sa.value=new m.Z(la.value).plus(new m.Z(ta.value)).toString(),oa.value=e.utils.fromWei(a[2],"ether"),na.value=e.utils.fromWei(a[1],"ether"),ia.value=new m.Z(na.value).multipliedBy(1.5).toString(),ca.value=new m.Z(oa.value).multipliedBy(1.5).toString(),da.value=new m.Z(pa.value).multipliedBy(De).toString(),ra.value=new m.Z(pa.value).multipliedBy(je).toString()})).catch((e=>{console.log("err----",e)}))},va=(0,s.iH)(0),ma=(0,s.iH)(0),fa=(0,s.iH)(0),wa=(0,s.iH)(0),Ba=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getStatData().call({from:localStorage.getItem("address")}).then((a=>{fa.value=e.utils.fromWei(a[1],"ether"),wa.value=e.utils.fromWei(a[2],"ether"),ma.value=new m.Z(fa.value).plus(new m.Z(wa.value)).toString(),va.value=new m.Z(ma.value).dividedBy(new m.Z(pa.value))})).catch((e=>{console.log("err----",e)}))},ga=(0,s.iH)("0"),_a=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getrefMap(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{ga.value=e[3]})).catch((e=>{console.log("err----",e)}))},pa=(0,s.iH)(0),xa=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.getReserves().call({from:localStorage.getItem("address")}).then((a=>{let t=e.utils.fromWei(a[0],"ether"),l=e.utils.fromWei(a[1],"ether");pa.value=l/t,console.log("price-------",pa.value),ua(),Ba(),ha()})).catch((e=>{console.log("err----",e)}))},ba=(0,s.iH)(""),ha=()=>{const{state:{web3:{web3Instance:e,mainContract:t}}}=a;t.methods.dividAmountMap(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((a=>{let t=e.utils.fromWei(a,"ether");ba.value=new m.Z(t).dividedBy(new m.Z(pa.value))})).catch((e=>{console.log("err----",e)}))},Ca=(0,l.Fl)((()=>a.state.web3.web3Instance));return(0,l.YP)(Ca,((e,a)=>{e&&(xa(),_a(),Ve(),Qe())}),{immediate:!0}),(e,t)=>{const i=(0,l.up)("van-field"),r=(0,l.up)("van-button"),u=(0,l.up)("van-picker"),v=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.iD)("div",x,[(0,l.Wm)((0,s.SU)(f.Z)),(0,l._)("div",b,[(0,l._)("div",h,[(0,l._)("div",C,[(0,l._)("div",z,(0,o.zw)(e.$t("分红总价值")),1),(0,l._)("div",S,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(va.value,2)),1),y])]),(0,l._)("div",$,[(0,l._)("div",I,(0,o.zw)(e.$t("可分红代币")),1),(0,l._)("div",H,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(ma.value,2)),1),N])]),(0,l._)("div",U,[(0,l._)("div",k,(0,o.zw)(e.$t("节点可分红")),1),(0,l._)("div",L,[(0,l._)("span",null,(0,o.zw)((0,s.SU)(B.Y6)(wa.value,2)),1),R])])]),(0,l._)("div",W,[(0,l._)("div",Z,[(0,l._)("div",Y,[F,(0,l._)("div",G,[(0,l.Wm)(i,{class:"input",modelValue:Je.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Je.value=e),placeholder:e.$t("请输入燃烧数量"),"input-align":"center","label-width":"0",border:!1},null,8,["modelValue","placeholder"])])]),(0,l._)("div",T,[(0,l._)("div",A,[(0,l._)("span",null,(0,o.zw)(e.$t("最小燃烧数量")),1),(0,l._)("span",D,(0,o.zw)((0,s.SU)(B.Y6)(da.value,2))+" GBC/0.1BNB",1)]),(0,l._)("div",j,[(0,l._)("span",null,(0,o.zw)(e.$t("最大燃烧数量")),1),(0,l._)("span",M,(0,o.zw)((0,s.SU)(B.Y6)(ra.value,2))+" GBC/1BNB",1)]),(0,l._)("div",V,[(0,l._)("span",null,(0,o.zw)(e.$t("余额"))+":",1),(0,l._)("span",P,(0,o.zw)((0,s.SU)(B.Y6)((0,s.SU)(a)?.state?.web3?.gbcBalance,6))+" GBC",1)])])]),(0,l._)("div",Q,[Pe.value?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"btn",loading:Ke.value,onClick:Oe},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("立即燃烧")),1)])),_:1},8,["loading"])):((0,l.wg)(),(0,l.j4)(r,{key:1,class:"btn",loading:qe.value,onClick:Ee},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("开启燃烧")),1)])),_:1},8,["loading"]))])]),(0,l._)("div",q,[(0,l._)("div",E,[J,(0,l._)("div",K,[(0,l._)("div",O,[(0,l._)("span",null,(0,o.zw)(e.$t("身份"))+"：",1),(0,l.wy)((0,l._)("span",null,(0,o.zw)(e.$t("普通用户")),513),[[n.F8,"0"==ga.value]]),(0,l.wy)((0,l._)("span",null,(0,o.zw)(e.$t("节点用户")),513),[[n.F8,"1"==ga.value]])]),X,ee]),(0,l._)("div",ae,[(0,l._)("div",te,[(0,l._)("div",le,(0,o.zw)(e.$t("累计燃烧收益")),1),(0,l._)("div",se,(0,o.zw)(e.$t("已分红数量")),1)]),(0,l._)("div",oe,[(0,l._)("div",ne,(0,o.zw)((0,s.SU)(B.Y6)(ia.value,6))+" BNB",1),(0,l._)("div",ie,(0,o.zw)((0,s.SU)(B.Y6)(ba.value,6))+" BNB",1)]),(0,l._)("div",ce,[(0,l._)("div",de,(0,o.zw)(e.$t("燃烧价值")),1),(0,l._)("div",re,(0,o.zw)(e.$t("燃烧价值")),1)]),(0,l._)("div",ue,[(0,l._)("div",ve,(0,o.zw)((0,s.SU)(B.Y6)(na.value,6))+" BNB",1),(0,l._)("div",me,(0,o.zw)((0,s.SU)(B.Y6)(oa.value,6))+" GBC",1)])])]),(0,l._)("div",fe,[(0,l._)("div",we,(0,o.zw)(e.$t("累计已获得推广奖励")),1),(0,l._)("div",Be,(0,o.zw)((0,s.SU)(B.Y6)(sa.value,6))+" GBC",1),(0,l._)("div",ge,[(0,l._)("div",_e,(0,o.zw)(e.$t("直推奖励")),1),(0,l._)("div",pe,"Noder "+(0,o.zw)(e.$t("奖励")),1)]),(0,l._)("div",xe,[(0,l._)("div",be,(0,o.zw)((0,s.SU)(B.Y6)(la.value,6))+" GBC",1),(0,l._)("div",he,(0,o.zw)((0,s.SU)(B.Y6)(ta.value,6))+" GBC",1)])])]),(0,l._)("div",Ce,[(0,l._)("div",ze,[(0,l._)("div",Se,(0,o.zw)(e.$t("我的推荐人")),1),"0x0000000000000000000000000000000000000000"==Xe.value?((0,l.wg)(),(0,l.iD)("div",ye,(0,o.zw)(e.$t("暂无推荐人")),1)):((0,l.wg)(),(0,l.iD)("div",$e,(0,o.zw)(Xe.value.slice(0,6))+" **** "+(0,o.zw)(Xe.value.slice(-6)),1))]),Ie]),(0,l._)("div",He,[(0,l._)("div",Ne,(0,o.zw)(e.$t("我的邀请链接")),1),(0,l._)("div",Ue,[(0,l._)("div",ke,(0,o.zw)(c.value),1),(0,l._)("div",{class:"copyBtn",onClick:t[1]||(t[1]=e=>d(c.value))},(0,o.zw)(e.$t("复制链接")),1)])]),(0,l._)("div",Le,[(0,l._)("div",Re,[(0,l._)("div",We,(0,o.zw)(e.$t("直推燃烧地址数")),1),(0,l._)("div",Ze,[(0,l._)("span",null,(0,o.zw)(ea.value),1),(0,l._)("span",{class:"xianshi",onClick:t[2]||(t[2]=e=>p.value=!0)},(0,o.zw)(e.$t("显示")),1)])]),Ye,(0,l._)("div",Fe,[(0,l._)("div",Ge,(0,o.zw)(e.$t("团队燃烧金额")),1),(0,l._)("div",Te,(0,o.zw)((0,s.SU)(B.Y6)(aa.value,6))+" BNB",1)])]),(0,l._)("div",Ae,[(0,l.Wm)((0,s.SU)(w.Z))])]),(0,l.Wm)(v,{show:p.value,"onUpdate:show":t[5]||(t[5]=e=>p.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{columns:Me.value,onCancel:t[3]||(t[3]=e=>p.value=!1),onConfirm:t[4]||(t[4]=e=>p.value=!1),"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"])])}}},Ve=t(3744);const Pe=(0,Ve.Z)(Me,[["__scopeId","data-v-3e7cdd83"]]);var Qe=Pe},360:function(e,a,t){e.exports=t.p+"img/zan.ffc2fdc1.png"}}]);