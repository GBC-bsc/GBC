"use strict";(self["webpackChunknewton_protocol"]=self["webpackChunknewton_protocol"]||[]).push([[622],{2648:function(e,t,a){a.d(t,{Y6:function(){return i},e$:function(){return l}});a(560);var n=a(1);const{t:s}=n["default"].global;function l(e){if(e=e.toString(),-1!=e.indexOf("+")&&(e=e.replace("+","")),-1!=e.indexOf("E")||-1!=e.indexOf("e")){var t="",a="",n=null,s=0,l=[],o="",i=e.toString();if("-"==i[0]&&(i=i.substr(1),o="-"),-1!=i.indexOf("E")||-1!=i.indexOf("e")){var c=new RegExp("^(((\\d+.?\\d+)|(\\d+))[Ee]{1}((-(\\d+))|(\\d+)))$","ig");if(n=c.exec(i),null!=n&&(t=n[2],a=n[5],n=null),!t&&!a)return!1;if(s=-1==t.indexOf(".")?0:t.indexOf("."),t=t.replace(".",""),l=t.split(""),Number(a)>=0){var r=t.substr(s);a=Number(a);for(var u=0;u<=a-r.length;u++)l.push("0");a-r.length<0&&l.splice(s+a,0,".")}else{a=a.replace("-",""),a=Number(a);for(let e=0;e<a-s;e++)l.unshift("0");var d=a-s>=0?1:-(a-s);l.splice(d,0,".")}}return t=l.join(""),o+t}return e}function o(e){let t=/^[-+]?(([0-9]+)([.]([0-9]+))?|([.]([0-9]+))?)$/.test(e);return t}function i(e,t=2){if(o(e)){let a=e+"";if(a.includes(".")){let e=a.split("."),n=e[0]+"."+e[1].substring(0,t);return Number(n)}return Number(e)}return e}},1166:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(6252),s=a(3577);const l=e=>((0,n.dD)("data-v-25f1e852"),e=e(),(0,n.Cn)(),e),o={class:"footBtm"},i=l((()=>(0,n._)("div",{class:"line"},null,-1))),c={class:"welcome"},r=l((()=>(0,n._)("div",{class:"line"},null,-1)));function u(e,t){return(0,n.wg)(),(0,n.iD)("div",o,[i,(0,n._)("div",c,(0,s.zw)(e.$t("欢迎来到GBC")),1),r])}var d=a(3744);const v={},m=(0,d.Z)(v,[["render",u],["__scopeId","data-v-25f1e852"]]);var g=m},1835:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var n=a(6252),s=a(2262),l=a(3577),o=a.p+"img/banner.26641910.png",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAByElEQVRYhc3XO2sUYRSH8V8WC7+GrR9oP4YmYryk8FaohaKkUEghaGPhBZsUXiCFaCUoIhI0IKiFEIuQIkZijMWcsLPD7Oy8M5NdHxjYOe95//sM7Mycnen3+4fxEUf8H3zB0R62cXLKMnnmsd2Lk8dYmaLMPit4BL1ccRa707AJdsMBw2LvsTRpmxxL4YBhMTiHjUnaBBs4ny8UxX4WGybEBaznC0UxuI3VSdgEq7hVLJaJ7eD4gesMmI3vHKJMDJ5h+SBtgmU8LVsYJQZzSq6kQ3ZwYtRildhnLHauM2ARn0YtVonBJYW7pSPWI3sk48Q2sdCZzoCFyB7JODG4g7ed6GS8i8xK6oj9lT0+9loK7XMsMiupIwYv8bCVTsaDyBpLXTGymW2rkU7GLwlzX4rYV1xP1hlwLTJqkSIGV/EtcQ98j721SRXbwpnEPXBa4s8gVQzu41VC/+vYk0QTsT3ZRDD2ltfiUdNEDN7gbo2+e9GbTFMxxr9WNnG2aXgbsR+4XLF+JXoa0UYMbsrGoyJruNEmuK3Yb5wqqc/HWmPaisETPM+dv4haK7oQIxuR/8Qx10XgoS5C8EH2t28mPremKzG42GGWfxKpW7OcVkYRAAAAAElFTkSuQmCC",c=a(3907),r=a(2438),u=a(2648),d=a(8552),v=a(1898),m=a(5583),g=a(1166);const b=e=>((0,n.dD)("data-v-5d673e1b"),e=e(),(0,n.Cn)(),e),w={class:"mintage"},f={class:"main"},h=b((()=>(0,n._)("img",{class:"banner",src:o,alt:""},null,-1))),C={class:"mintRow"},p={class:"mint"},x={class:"right"},A=b((()=>(0,n._)("img",{class:"xiaImg",src:i,alt:""},null,-1))),B={class:"one"},_={class:"mainBtm"},S={class:"remarksNotes"},z={class:"teamBox"},k={class:"teamSize"},I={class:"teamSize"},U={class:"title"},Y={class:"urlBox"},W={class:"inviteUrlBox"},H={class:"sharedAddress"},$={class:"sharedAddressLabel"},E={class:"sharedAddressBox"};var F={__name:"index",setup(e){const t=(0,c.oR)(),{toClipboard:a}=(0,v.Z)(),{t:o}=(0,d.QT)(),b=(0,n.Fl)((()=>t?.state?.user?.address?location.origin+location.pathname+"#/?invite="+localStorage.getItem("address"):"**********")),F=async e=>{try{await a(e),(0,r.CF)(o("复制成功"))}catch(t){(0,r.CF)(o("复制失败"))}},M=[{text:"0.1",value:"0.1",gbc:5e3},{text:"0.2",value:"0.2",gbc:1e4},{text:"0.3",value:"0.3",gbc:15e3},{text:"0.4",value:"0.4",gbc:2e4},{text:"0.5",value:"0.5",gbc:25e3}],R=(0,s.iH)(M[2].gbc),G=(0,s.iH)(!1),N=(0,s.iH)([M[2].text]),y=({selectedValues:e,selectedOptions:t})=>{N.value=e,R.value=t[0].gbc,G.value=!1},L=(0,s.iH)(!1),X=(0,s.iH)([]),O=(0,s.iH)(!1),T=()=>{const{state:{web3:{web3Instance:e,mainContractAddress:a,bnbBalance:n}}}=t;let s=N.value[0];if(n<Number(s))return(0,r.CF)(o("余额不足"));let l=(0,r.di)({message:o("铸造中..."),forbidClick:!0,duration:0});O.value=!0,e.eth.sendTransaction({from:localStorage.getItem("address"),to:a,value:e.utils.toWei(s,"ether")}).then((e=>{l.close(),(0,r.CF)(o("铸造成功")),O.value=!1,t.dispatch("web3/getBnbBalance")})).catch((e=>{l.close(),(0,r.CF)(o("交易失败,请再次进行")),O.value=!1}))},V=(0,s.iH)(!1),Z=()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;if(J.value<=0)return(0,r.CF)(o("可领取数量为0,不能领取"));let n=(0,r.di)({message:o("领取中..."),forbidClick:!0,duration:0});V.value=!0,a.methods.divieBnb().send({from:localStorage.getItem("address")}).then((()=>{n.close(),(0,r.CF)(o("领取成功")),V.value=!1,K(),t.dispatch("web3/getBnbBalance")})).catch((()=>{n.close(),(0,r.CF)(o("交易失败,请再次进行")),V.value=!1}))},D=(0,s.iH)(0),Q=(0,s.iH)(0),J=(0,s.iH)(0),K=()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;a.methods.getrefMap1(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((t=>{D.value=t[2],Q.value=e.utils.fromWei(t[3],"ether"),J.value=e.utils.fromWei(t[5],"ether")})).catch((e=>{console.log("err----",e)}))},P=((0,s.iH)([]),()=>{const{state:{web3:{web3Instance:e,mainContract:a}}}=t;a.methods.getRefAddresses(localStorage.getItem("address")).call({from:localStorage.getItem("address")}).then((e=>{X.value=e.map((e=>({text:`${e.substring(0,6)}*******${e.substring(e.length-5)}`,value:e})))})).catch((e=>{console.log("err----",e)}))}),j=(0,n.Fl)((()=>t.state.web3.web3Instance));return(0,n.YP)(j,((e,t)=>{e&&(K(),P())}),{immediate:!0}),(e,a)=>{const o=(0,n.up)("van-button"),c=(0,n.up)("van-picker"),r=(0,n.up)("van-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",w,[(0,n.Wm)((0,s.SU)(m.Z)),(0,n._)("div",f,[h,(0,n._)("div",C,[(0,n._)("div",p,(0,l.zw)(e.$t("铸 造")),1),(0,n._)("div",x,[(0,n._)("div",{class:"one",onClick:a[0]||(a[0]=e=>G.value=!0)},[(0,n._)("span",null,(0,l.zw)(N.value[0]),1),A]),(0,n._)("div",B,(0,l.zw)(R.value),1),(0,n.Wm)(o,{class:"confirm",loading:O.value,onClick:T},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("确认")),1)])),_:1},8,["loading"])])]),(0,n._)("div",_,[(0,n.Wm)(o,{class:"receiveBtn",loading:V.value,onClick:Z},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("可领取"))+"："+(0,l.zw)((0,s.SU)(u.Y6)(J.value,6))+" BNB",1)])),_:1},8,["loading"]),(0,n.Wm)(o,{class:"receiveBtn",onClick:a[1]||(a[1]=e=>F((0,s.SU)(t)?.state?.web3?.mainContractAddress))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("GBC合约地址"))+"："+(0,l.zw)((0,s.SU)(t)?.state?.web3?.mainContractAddress.slice(0,6))+" **** "+(0,l.zw)((0,s.SU)(t)?.state?.web3?.mainContractAddress.slice(-6)),1)])),_:1}),(0,n._)("div",S,(0,l.zw)(e.$t("推荐好友铸造获得 一代5% 二代3% 的BNB奖励")),1),(0,n._)("div",z,[(0,n._)("div",k,(0,l.zw)(e.$t("团队人数"))+": "+(0,l.zw)(D.value),1),(0,n._)("div",I,(0,l.zw)(e.$t("团队BNB"))+": "+(0,l.zw)((0,s.SU)(u.Y6)(Q.value,6)),1)]),(0,n._)("div",U,(0,l.zw)(e.$t("我的链接")),1),(0,n._)("div",Y,[(0,n._)("div",W,(0,l.zw)(b.value),1),(0,n._)("div",{class:"copyBtn",onClick:a[2]||(a[2]=e=>F(b.value))},(0,l.zw)(e.$t("复制链接")),1)]),(0,n._)("div",H,[(0,n._)("div",$,(0,l.zw)(e.$t("我分享的地址")),1),(0,n._)("div",E,[(0,n._)("img",{onClick:a[3]||(a[3]=e=>L.value=!0),class:"triangle",src:i,alt:""})])])]),(0,n.Wm)((0,s.SU)(g.Z))])]),(0,n.Wm)(r,{show:G.value,"onUpdate:show":a[5]||(a[5]=e=>G.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{"model-value":N.value,columns:(0,s.SU)(M),onCancel:a[4]||(a[4]=e=>G.value=!1),onConfirm:y,"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["model-value","columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"]),(0,n.Wm)(r,{show:L.value,"onUpdate:show":a[8]||(a[8]=e=>L.value=e),"destroy-on-close":"",round:"",position:"bottom"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{columns:X.value,onCancel:a[6]||(a[6]=e=>L.value=!1),onConfirm:a[7]||(a[7]=e=>L.value=!1),"confirm-button-text":e.$t("确认"),"cancel-button-text":e.$t("取消")},null,8,["columns","confirm-button-text","cancel-button-text"])])),_:1},8,["show"])],64)}}},M=a(3744);const R=(0,M.Z)(F,[["__scopeId","data-v-5d673e1b"]]);var G=R}}]);